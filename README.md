# **異世界人生模擬器 (Alternative Reality Life Sim)**

這是一個高度自由的文字沙盒遊戲，結合了現代大型語言模型（LLM）的強大能力，讓玩家沉浸在一個完全動態、由 AI 實時創造的異世界中。遊戲目標模糊，專注於玩家的選擇與其帶來的因果關係。

## **核心功能 (Features)**

* **高自由度沙盒體驗：** 玩家可以自由定義角色的出身背景、目標和行動，AI將根據輸入內容實時推進故事。  
* **結構化因果關係系統：** 遊戲中的所有重大事件（例如：金錢變動、生命值受損、獲得成就）都透過 **JSON 結構化數據**傳輸，確保遊戲邏輯的準確性。  
* **長短期記憶機制：**  
  * **長期記憶 (世界紀錄)：** 儲存玩家的背景、核心目標和過去的重大歷史事件，確保 AI 在整個遊戲過程中保持一致性。  
  * **短期記憶 (聊天歷史)：** 維護最近的回合對話，確保敘事連貫。  
* **遊戲化反饋：** 實時顯示玩家的 **金錢** 和 **生命值** 狀態。當玩家的行動觸發重大事件（如中大獎或死亡）時，AI 會在 JSON 中設置相應的數值或 game\_over: true 標誌。  
* **時間限制與動態結局：** 遊戲設有時間限制（預設 15 分鐘）。時間耗盡時，AI 會根據玩家的最終狀態和歷史紀錄，即時生成一個客製化的史詩結局。  
* **多模型 API 支援：** 支援使用 **Google Gemini API Key** 或 **OpenAI GPT API Key** 驅動遊戲大師。

## **技術棧 (Tech Stack)**

* **後端：** Node.js / Express (處理 API 代理、狀態管理、CORS/網路安全)  
* **前端：** HTML5 / JavaScript / Tailwind CSS (提供動態 UI 和遊戲界面)  
* **AI 模型：** Google Gemini / OpenAI GPT (作為遊戲大師及敘事生成引擎)

## **啟動指南 (Getting Started)**

### **步驟 1: 環境準備**

1. **安裝 Node.js：** 確保您的電腦已安裝 Node.js (建議版本 18+)。  
2. **獲取 API Key：** 準備一個有效的 **Google Gemini API Key** 或 **OpenAI GPT API Key**。

### **步驟 2: 設置後端**

1. **進入專案目錄：**  
   `cd \<您的專案資料夾路徑\>`

2. **安裝依賴：**  
   `npm install express cors body-parser`

3. **啟動後端伺服器：**  
  ` node server.js`

   *伺服器啟動後，終端機將顯示：後端伺服器已啟動，監聽 http://localhost:3000*

### **步驟 3: 運行遊戲**

1. **開啟前端：** 使用瀏覽器直接開啟專案資料夾中的 index.html 檔案。  
2. **輸入金鑰：** 在第一階段選擇您的 API 類型，並輸入您的金鑰。  
3. **創建角色：** 填寫角色名稱、詳細背景（**包含金錢和生命值的初始值，例如：金錢 100，生命值 100**）和核心目標。  
4. **開始遊戲：** 遊戲時間將開始倒數。輸入您的行動，與 AI 驅動的世界進行互動！

## **遊戲玩法與指令**

* **行動自由：** 您可以輸入任何符合邏輯的行動。AI 會根據您的長期記憶和當前情境給予回饋。  
* **檢查狀態：** 隨時注意左側的「**玩家狀態**」和「**歷史事件**」欄位，這是您的長期記憶，也是 AI 判斷因果的依據。  
* **觸發結局：**  
  * **時間結局：** 倒數時間結束，AI 會自動生成您的最終命運。  
  * **死亡結局：** 您的行動導致生命值歸零，或 AI 判斷您陷入致命境地（例如：被國王處決），將觸發 GAME OVER 畫面。
